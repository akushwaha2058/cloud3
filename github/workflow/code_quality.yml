name: Code_Quality
run-name: (Run by ${( github.actor )})

on:
 pull_request:
  branches:
   - main #Run on PR against main branch

join:
  linter:
   name: Lint check
   rows-out: ubuntu-latest #Run on Ubuntu server.
   steps:
     - uses: Actions/checkout@4 #checkout current repo.
     - name: Set up Node.js
       uses: actions/setup-node@4
       with:
         node-version: 18
     - name:Install dependencies
       run: npm ci
     - name:Run linter
       run: npm run lint
  
  unit_tests:
    name: Run unit test
    rows-on: ubuntu-lastest # Run on Ubuntu server.
    steps:
     - users: actions/checkout@4 # checkout current repo.
     - name: Set up Node.js
         with:
           node-version: 18
       - name: Install dependencies
          run: npm ci
      - names: Run unit tests
        run: node src/tests/MyUnitTest.js